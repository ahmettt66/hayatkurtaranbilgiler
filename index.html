<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>3D Kas Haritası – Dönen Vücut</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      min-height: 100vh;
      background: radial-gradient(circle at top, #1f2937, #020617);
      color: #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    .app {
      width: 100%;
      max-width: 1150px;
      background: rgba(15, 23, 42, 0.96);
      border-radius: 24px;
      box-shadow: 0 25px 60px rgba(0,0,0,0.6);
      padding: 24px;
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.4fr);
      gap: 24px;
      border: 1px solid rgba(148, 163, 184, 0.3);
      backdrop-filter: blur(14px);
    }

    @media (max-width: 900px) {
      .app {
        grid-template-columns: 1fr;
      }
      #sceneContainer {
        height: 360px;
      }
    }

    header {
      grid-column: 1 / -1;
      margin-bottom: 8px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
    }

    header h1 {
      font-size: 1.6rem;
      font-weight: 700;
      display: flex;
      align-items: baseline;
      gap: 8px;
    }

    header h1 span {
      font-size: 0.9rem;
      font-weight: 400;
      color: #9ca3af;
    }

    .tag {
      font-size: 0.8rem;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(56, 189, 248, 0.12);
      border: 1px solid rgba(56, 189, 248, 0.4);
      color: #e0f2fe;
      white-space: nowrap;
    }

    .body-panel {
      background: radial-gradient(circle at top, rgba(148,163,184,0.12), rgba(15,23,42,1));
      border-radius: 20px;
      padding: 16px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      display: flex;
      flex-direction: column;
      gap: 8px;
      position: relative;
      overflow: hidden;
    }

    .body-panel h2 {
      font-size: 0.95rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: #9ca3af;
    }

    .body-sub {
      font-size: 0.78rem;
      color: #9ca3af;
    }

    #sceneContainer {
      flex: 1;
      margin-top: 6px;
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(55,65,81,0.8);
      background: radial-gradient(circle at top, #020617, #020617);
      min-height: 420px;
      position: relative;
    }

    .info-panel {
      background: radial-gradient(circle at top left, rgba(34,197,94,0.25), rgba(15,23,42,1));
      border-radius: 20px;
      padding: 18px 20px;
      border: 1px solid rgba(55, 65, 81, 0.9);
      display: flex;
      flex-direction: column;
      gap: 10px;
      position: relative;
      overflow: hidden;
    }

    .info-panel::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at top right, rgba(56,189,248,0.16), transparent 55%);
      opacity: 0.8;
      pointer-events: none;
    }

    .info-header {
      position: relative;
      z-index: 1;
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 8px;
    }

    .info-header-title {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .info-muscle-name {
      font-size: 1.1rem;
      font-weight: 600;
    }

    .info-muscle-sub {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .chip-row {
      margin-top: 4px;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      position: relative;
      z-index: 1;
    }

    .chip {
      font-size: 0.75rem;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.8);
      color: #e5e7eb;
      backdrop-filter: blur(8px);
    }

    .info-section {
      position: relative;
      z-index: 1;
      margin-top: 8px;
    }

    .info-section h3 {
      font-size: 0.85rem;
      font-weight: 600;
      color: #d1d5db;
      margin-bottom: 4px;
    }

    .info-section p {
      font-size: 0.83rem;
      color: #e5e7eb;
      line-height: 1.4;
      margin-bottom: 4px;
    }

    .info-section ul {
      margin-left: 16px;
      margin-top: 4px;
      margin-bottom: 8px;
    }

    .info-section li {
      font-size: 0.83rem;
      color: #d1d5db;
      line-height: 1.35;
      margin-bottom: 2px;
    }

    .hint {
      font-size: 0.78rem;
      color: #9ca3af;
      margin-top: 4px;
      position: relative;
      z-index: 1;
    }

    .footer-note {
      margin-top: auto;
      font-size: 0.75rem;
      color: #6b7280;
      text-align: right;
      position: relative;
      z-index: 1;
    }
  </style>
</head>
<body>
  <main class="app">
    <header>
      <h1>
        3D Etkileşimli Kas Haritası
        <span>Vücudu döndür, kasların ne işe yaradığını gör.</span>
      </h1>
      <div class="tag">Three.js • Döndürülebilir model</div>
    </header>

    <!-- 3D SAHNE -->
    <section class="body-panel">
      <h2>3D VÜCUT MODELİ</h2>
      <p class="body-sub">
        Fareyle sürükleyerek vücudu döndürebilir, kas bölgelerine tıklayarak sağ tarafta detaylarını görebilirsin.
      </p>
      <div id="sceneContainer"></div>
    </section>

    <!-- BİLGİ PANELİ -->
    <section class="info-panel">
      <div class="info-header">
        <div class="info-header-title">
          <div class="info-muscle-name" id="muscleName">Bir bölge seç</div>
          <div class="info-muscle-sub" id="muscleLatin">
            Göğüs, sırt, omuz, kol, bacak gibi bölgelerin üzerine tıkla.
          </div>
        </div>
        <div class="chip-row" id="chipRow">
          <span class="chip">Görünüm</span>
          <span class="chip">Güç</span>
          <span class="chip">Performans</span>
        </div>
      </div>

      <div class="info-section">
        <h3>Bu kasın temel görevi</h3>
        <p id="muscleFunction">
          Ortadaki 3D modeli döndürerek vücudu farklı açılardan inceleyebilir, kaslara tıklayarak görevlerini
          öğrenebilirsin. Model basitleştirilmiş olsa da kas grupları gerçek anatomi mantığına göre bölünmüştür.
        </p>
      </div>

      <div class="info-section">
        <h3>Bu kasları çalıştırırsan neler olur?</h3>
        <ul id="muscleBenefits">
          <li>Güç, estetik ve spor performansına etkilerini burada göreceksin.</li>
          <li>Hangi hareketlerde aktif olduklarını bilerek antrenman planını daha bilinçli yapabilirsin.</li>
        </ul>
      </div>

      <p class="hint">
        İpucu: Boş bir yere tıklarsan, seçili kas vurgusu kalkar ve genel bilgi ekranına geri dönersin.
      </p>

      <p class="footer-note">
        Not: Bu site eğitim amaçlıdır, tıbbi tavsiye yerine geçmez.
      </p>
    </section>
  </main>

  <!-- Three.js CDN (module değil, klasik kullanım) -->
  <script src="https://unpkg.com/three@0.164.0/build/three.min.js"></script>
  <script src="https://unpkg.com/three@0.164.0/examples/js/controls/OrbitControls.js"></script>

  <script>
    // ---- DOM Referansları ----
    const container = document.getElementById("sceneContainer");
    const muscleNameEl = document.getElementById("muscleName");
    const muscleLatinEl = document.getElementById("muscleLatin");
    const muscleFunctionEl = document.getElementById("muscleFunction");
    const muscleBenefitsEl = document.getElementById("muscleBenefits");
    const chipRowEl = document.getElementById("chipRow");

    // ---- Kas Bilgileri ----
    const muscleData = {
      chest: {
        name: "Göğüs Kasları",
        latin: "Pectoralis Major / Minor",
        function:
          "İtme hareketlerinin ana motorudur. Şınav, bench press, göğüs press ve fly gibi hareketlerde yoğun çalışır.",
        tags: ["İtme gücü", "Üst vücut genişliği", "Postür"],
        benefits: [
          "Üst vücudu daha geniş ve dolu gösterir.",
          "İtme hareketlerinde (şınav, bench press) güç ve tekrar sayısını artırır.",
          "Omuz çevresini destekleyerek üst beden stabilitesine katkı sağlar."
        ]
      },
      back: {
        name: "Sırt Kasları",
        latin: "Latissimus Dorsi, Trapezius, Rhomboids",
        function:
          "Çekiş hareketlerinin merkezidir. Barfiks, row, deadlift gibi hareketlerde aktif rol oynar ve duruşu dik tutar.",
        tags: ["Duruş", "Çekiş gücü", "V şekli"],
        benefits: [
          "Daha dik bir duruş ve sağlıklı bir omurga sağlar.",
          "Barfiks, row gibi çekiş egzersizlerinde performansı yükseltir.",
          "Kanat kasları sayesinde V şeklinde bir üst vücut görünümü verir."
        ]
      },
      shoulders: {
        name: "Omuz Kasları",
        latin: "Deltoid",
        function:
          "Kolları yana, öne ve arkaya kaldırma hareketlerinden sorumludur. Hemen hemen tüm üst vücut antrenmanlarında stabilizör olarak görev yapar.",
        tags: ["Geniş omuz", "Stabilite", "Çok yönlü hareket"],
        benefits: [
          "Omuz genişliğini artırarak daha atletik bir silüet oluşturur.",
          "Üst vücut hareketlerinde eklem stabilitesini artırır.",
          "Overhead press, push press gibi hareketlerde güç kazandırır."
        ]
      },
      biceps: {
        name: "Ön Kol (Biseps)",
        latin: "Biceps Brachii",
        function:
          "Dirseği bükme ve ön kolu döndürme görevini üstlenir. Çoğu çekiş hareketinde (barfiks, row) aktif rol oynar.",
        tags: ["Kol hacmi", "Çekiş gücü", "Estetik"],
        benefits: [
          "Kolların daha dolu ve kaslı görünmesini sağlar.",
          "Çekiş hareketlerinde daha fazla tekrar ve ağırlık kullanılmasına yardımcı olur.",
          "Günlük hayatta yük taşıma işlerinde dirsek bükme gücünü artırır."
        ]
      },
      triceps: {
        name: "Arka Kol (Triseps)",
        latin: "Triceps Brachii",
        function:
          "Dirseği düzleştirme hareketini yapar. İtiş hareketlerinin kilit noktasında görev alır.",
        tags: ["Kol kalınlığı", "İtiş gücü", "Kilitlenme"],
        benefits: [
          "Kol çevresinin büyük kısmını oluşturduğu için kol kalınlığını ciddi artırır.",
          "Şınav, bench press, dips gibi hareketlerde itiş gücünü yükseltir.",
          "Dirseğin stabilitesini artırarak sakatlık riskini azaltır."
        ]
      },
      abs: {
        name: "Karın / Core",
        latin: "Rectus Abdominis, Obliques, Core",
        function:
          "Gövdenin bükülmesi, rotasyonu ve dengede durmasında görev alır. Omurgayı koruyan merkez bölgedir.",
        tags: ["Core", "Denge", "Duruş"],
        benefits: [
          "Bel bölgesini destekleyerek ağır kaldırmalarda gövdeyi korur.",
          "Daha dik ve estetik bir duruş sağlar.",
          "Spor performansında (koşu, yön değiştirme, sıçrama) ciddi rol oynar."
        ]
      },
      glutes: {
        name: "Kalça Kasları",
        latin: "Gluteus Maximus / Medius",
        function:
          "Kalça eklemini geriye açma ve stabil tutma görevini üstlenir. Squat, deadlift, hip thrust gibi hareketlerin merkezindedir.",
        tags: ["Güç merkezi", "Hız", "Atletik görünüm"],
        benefits: [
          "Alt vücut kuvvetini ciddi şekilde artırır.",
          "Koşu hızı ve sıçrama performansını iyileştirir.",
          "Bel ve kalça çevresine stabilite sağlayarak sakatlık riskini azaltır."
        ]
      },
      quads: {
        name: "Ön Bacak (Quadriceps)",
        latin: "Quadriceps Femoris",
        function:
          "Diz eklemini açma görevini üstlenir. Yürüme, koşma, merdiven çıkma gibi temel hareketlerde sürekli çalışır.",
        tags: ["Güç", "Koşu & zıplama", "Taşıma"],
        benefits: [
          "Squat ve lunge gibi hareketlerde ana itiş gücünü sağlar.",
          "Merdiven çıkma, çömelip kalkma gibi günlük hareketleri kolaylaştırır.",
          "Bacakların dolu ve güçlü görünmesine katkı sağlar."
        ]
      },
      hamstrings: {
        name: "Arka Uyluk (Hamstring)",
        latin: "Hamstring Group",
        function:
          "Dizi bükme ve kalçayı geriye itme hareketinde rol oynar. Koşu ve sprintin patlayıcı kısmında çok aktiftir.",
        tags: ["Hız", "Patlayıcı güç", "Denge"],
        benefits: [
          "Sprint ve ani hızlanmalarda performansı artırır.",
          "Kalça itişli hareketlerde (deadlift, hip hinge) destek sağlar.",
          "Diz ekleminin arka tarafını koruyarak sakatlık riskini azaltır."
        ]
      },
      calves: {
        name: "Baldır Kasları",
        latin: "Gastrocnemius & Soleus",
        function:
          "Ayak bileğini aşağı itmekten sorumludur. Yürüme, koşma, zıplama ve ayakta durmada denge sağlar.",
        tags: ["Denge", "Patlayıcı güç", "Detay estetik"],
        benefits: [
          "Koşu ve zıplama performansını iyileştirir.",
          "Uzun süre ayakta kalırken denge ve konfor sağlar.",
          "Bacakların alt kısmında oranlı ve estetik bir görünüm verir."
        ]
      }
    };

    // ---- Three.js Kurulumu ----
    const scene = new THREE.Scene();
    scene.background = new THREE.Color(0x020617);

    function getContainerSize() {
      let w = container.clientWidth;
      let h = container.clientHeight;
      if (!w || !h) {
        w = 400;
        h = 400;
      }
      return { w, h };
    }

    const size = getContainerSize();
    const camera = new THREE.PerspectiveCamera(
      40,
      size.w / size.h,
      0.1,
      100
    );
    camera.position.set(0, 1.6, 5);

    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setPixelRatio(window.devicePixelRatio);
    renderer.setSize(size.w, size.h);
    container.appendChild(renderer.domElement);

    // Işıklar
    const hemiLight = new THREE.HemisphereLight(0xffffff, 0x111827, 0.9);
    scene.add(hemiLight);

    const dirLight = new THREE.DirectionalLight(0xffffff, 0.9);
    dirLight.position.set(3, 6, 4);
    scene.add(dirLight);

    const backLight = new THREE.DirectionalLight(0xffffff, 0.4);
    backLight.position.set(-2, 4, -4);
    scene.add(backLight);

    // Zemin
    const grid = new THREE.GridHelper(8, 16, 0x1f2933, 0x111827);
    grid.position.y = -1.4;
    scene.add(grid);

    // ---- Vücut Modeli ----
    const bodyGroup = new THREE.Group();
    scene.add(bodyGroup);

    const clickableMeshes = [];

    function createPart(geometry, color, muscleKey, position) {
      const mat = new THREE.MeshStandardMaterial({
        color: color,
        metalness: 0.05,
        roughness: 0.45
      });
      const mesh = new THREE.Mesh(geometry, mat);
      mesh.position.copy(position);
      mesh.userData.muscleKey = muscleKey;
      bodyGroup.add(mesh);
      if (muscleKey) clickableMeshes.push(mesh);
      return mesh;
    }

    const torsoHeight = 1.6;

    // Göğüs / gövde
    createPart(
      new THREE.BoxGeometry(0.9, 0.6, 0.4),
      0x1d4ed8,
      "chest",
      new THREE.Vector3(0, torsoHeight, 0)
    );

    // Karın / core
    createPart(
      new THREE.BoxGeometry(0.7, 0.5, 0.35),
      0x1e40af,
      "abs",
      new THREE.Vector3(0, torsoHeight - 0.6, 0)
    );

    // Sırt
    createPart(
      new THREE.BoxGeometry(0.95, 0.5, 0.2),
      0x1e3a8a,
      "back",
      new THREE.Vector3(0, torsoHeight + 0.1, -0.1)
    );

    // Kalça / glute
    createPart(
      new THREE.BoxGeometry(0.8, 0.4, 0.4),
      0x4b5563,
      "glutes",
      new THREE.Vector3(0, torsoHeight - 1.0, 0)
    );

    // Baş
    createPart(
      new THREE.SphereGeometry(0.25, 32, 32),
      0x0f172a,
      null,
      new THREE.Vector3(0, torsoHeight + 0.75, 0)
    );

    // Omuzlar
    createPart(
      new THREE.BoxGeometry(0.3, 0.25, 0.35),
      0x2563eb,
      "shoulders",
      new THREE.Vector3(-0.6, torsoHeight + 0.2, 0)
    );
    createPart(
      new THREE.BoxGeometry(0.3, 0.25, 0.35),
      0x2563eb,
      "shoulders",
      new THREE.Vector3(0.6, torsoHeight + 0.2, 0)
    );

    // Üst kollar (biceps)
    createPart(
      new THREE.CapsuleGeometry(0.16, 0.55, 16, 24),
      0x22c55e,
      "biceps",
      new THREE.Vector3(-0.95, torsoHeight - 0.1, 0)
    );
    createPart(
      new THREE.CapsuleGeometry(0.16, 0.55, 16, 24),
      0x22c55e,
      "biceps",
      new THREE.Vector3(0.95, torsoHeight - 0.1, 0)
    );

    // Alt kollar (triceps)
    createPart(
      new THREE.CapsuleGeometry(0.14, 0.5, 16, 24),
      0x16a34a,
      "triceps",
      new THREE.Vector3(-0.95, torsoHeight - 0.8, 0)
    );
    createPart(
      new THREE.CapsuleGeometry(0.14, 0.5, 16, 24),
      0x16a34a,
      "triceps",
      new THREE.Vector3(0.95, torsoHeight - 0.8, 0)
    );

    // Üst bacak (quads)
    createPart(
      new THREE.CapsuleGeometry(0.22, 0.8, 16, 24),
      0xf97316,
      "quads",
      new THREE.Vector3(-0.3, torsoHeight - 1.6, 0.05)
    );
    createPart(
      new THREE.CapsuleGeometry(0.22, 0.8, 16, 24),
      0xf97316,
      "quads",
      new THREE.Vector3(0.3, torsoHeight - 1.6, 0.05)
    );

    // Arka uyluk (hamstring)
    createPart(
      new THREE.CapsuleGeometry(0.19, 0.7, 16, 24),
      0xc2410c,
      "hamstrings",
      new THREE.Vector3(-0.3, torsoHeight - 1.7, -0.18)
    );
    createPart(
      new THREE.CapsuleGeometry(0.19, 0.7, 16, 24),
      0xc2410c,
      "hamstrings",
      new THREE.Vector3(0.3, torsoHeight - 1.7, -0.18)
    );

    // Baldırlar
    createPart(
      new THREE.CapsuleGeometry(0.16, 0.6, 16, 24),
      0x65a30d,
      "calves",
      new THREE.Vector3(-0.3, torsoHeight - 2.45, 0)
    );
    createPart(
      new THREE.CapsuleGeometry(0.16, 0.6, 16, 24),
      0x65a30d,
      "calves",
      new THREE.Vector3(0.3, torsoHeight - 2.45, 0)
    );

    bodyGroup.position.y = -0.3;

    // ---- Orbit Controls ----
    const controls = new THREE.OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.target.set(0, torsoHeight - 0.3, 0);
    controls.minDistance = 3;
    controls.maxDistance = 8;
    controls.minPolarAngle = Math.PI * 0.15;
    controls.maxPolarAngle = Math.PI * 0.85;

    // ---- Raycaster ----
    const raycaster = new THREE.Raycaster();
    const mouse = new THREE.Vector2();
    let autoRotate = true;

    function clearSelection() {
      clickableMeshes.forEach((mesh) => {
        mesh.material.emissive = new THREE.Color(0x000000);
      });
    }

    function selectMuscle(muscleKey) {
      const data = muscleData[muscleKey];
      if (!data) return;

      clearSelection();
      clickableMeshes.forEach((mesh) => {
        if (mesh.userData.muscleKey === muscleKey) {
          mesh.material.emissive = new THREE.Color(0x22c55e);
          mesh.material.emissiveIntensity = 0.35;
        }
      });

      muscleNameEl.textContent = data.name;
      muscleLatinEl.textContent = data.latin;
      muscleFunctionEl.textContent = data.function;

      muscleBenefitsEl.innerHTML = "";
      data.benefits.forEach((b) => {
        const li = document.createElement("li");
        li.textContent = b;
        muscleBenefitsEl.appendChild(li);
      });

      chipRowEl.innerHTML = "";
      data.tags.forEach((tag) => {
        const span = document.createElement("span");
        span.className = "chip";
        span.textContent = tag;
        chipRowEl.appendChild(span);
      });
    }

    function resetInfo() {
      clearSelection();
      muscleNameEl.textContent = "Bir bölge seç";
      muscleLatinEl.textContent = "Göğüs, sırt, omuz, kol, bacak gibi bölgelerin üzerine tıkla.";
      muscleFunctionEl.textContent =
        "Ortadaki 3D modeli döndürerek vücudu farklı açılardan inceleyebilir, kaslara tıklayarak görevlerini öğrenebilirsin. Model basitleştirilmiş olsa da kas grupları gerçek anatomi mantığına göre bölünmüştür.";
      muscleBenefitsEl.innerHTML = "";
      const li1 = document.createElement("li");
      li1.textContent =
        "Güç, estetik ve spor performansına etkilerini burada göreceksin.";
      const li2 = document.createElement("li");
      li2.textContent =
        "Hangi hareketlerde aktif olduklarını bilerek antrenman planını daha bilinçli yapabilirsin.";
      muscleBenefitsEl.appendChild(li1);
      muscleBenefitsEl.appendChild(li2);

      chipRowEl.innerHTML = "";
      ["Görünüm", "Güç", "Performans"].forEach((t) => {
        const span = document.createElement("span");
        span.className = "chip";
        span.textContent = t;
        chipRowEl.appendChild(span);
      });
    }

    function onClick(event) {
      const rect = renderer.domElement.getBoundingClientRect();
      mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;
      mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;

      raycaster.setFromCamera(mouse, camera);
      const intersects = raycaster.intersectObjects(clickableMeshes, false);

      if (intersects.length > 0) {
        const mesh = intersects[0].object;
        const key = mesh.userData.muscleKey;
        if (key) {
          autoRotate = false;
          selectMuscle(key);
        }
      } else {
        autoRotate = true;
        resetInfo();
      }
    }

    renderer.domElement.addEventListener("click", onClick);
    controls.addEventListener("start", () => {
      autoRotate = false;
    });

    // ---- Animasyon Döngüsü ----
    function animate() {
      requestAnimationFrame(animate);

      if (autoRotate) {
        bodyGroup.rotation.y += 0.005;
      }

      controls.update();
      renderer.render(scene, camera);
    }
    animate();

    // ---- Resize ----
    window.addEventListener("resize", () => {
      const s = getContainerSize();
      camera.aspect = s.w / s.h;
      camera.updateProjectionMatrix();
      renderer.setSize(s.w, s.h);
    });
  </script>
</body>
</html>
